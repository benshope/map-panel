(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{357:function(module,exports,__webpack_require__){__webpack_require__(358),__webpack_require__(739),module.exports=__webpack_require__(740)},494:function(module,exports){},56:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return InnerScrollDiv})),__webpack_require__.d(__webpack_exports__,"a",(function(){return BackgroundDiv})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PanelDiv}));var _Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(356),_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(96),_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41);function _templateObject4(){var data=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__.a)(["\n  z-index: 2;\n  position: absolute;\n  margin: auto 0px;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  overflow-y: hidden;\n  border-radius: 8px 8px 0px 0px;\n  left: 0;\n  max-width: 448px;\n  max-height: calc(100% - ","px);\n  pointer-events: all;\n  left: 50%;\n  transform: translateX(-50%);\n  min-height: ","px;\n  top: calc(100% - ","px);\n  @media (min-width: ","px) {\n    cursor: auto !important;\n    top: auto;\n    bottom: 0;\n    left: ","px;\n    transform: translateX(0%);\n  }\n"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__.a)(["\n  position: sticky;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 1;\n  @media (min-width: ","px) {\n    opacity: 0;\n    pointer-events: none;\n  }\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__.a)(["\n  flex: 1;\n  overflow-y: auto;\n  flex-shrink: ",";\n  @media (min-width: ","px) {\n    flex-shrink: 1;\n  }\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__.a)(["\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  position: absolute;\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n"]);return _templateObject=function _templateObject(){return data},data}var PanelContainerDiv=styled_components__WEBPACK_IMPORTED_MODULE_4__.a.div(_templateObject()),InnerScrollDiv=styled_components__WEBPACK_IMPORTED_MODULE_4__.a.div(_templateObject2(),(function(_ref){return 1===_ref.panelY?1:0}),(function(_ref2){return _ref2.breakpoint})),BackgroundDiv=styled_components__WEBPACK_IMPORTED_MODULE_4__.a.div.attrs((function(_ref3){var panelY=_ref3.panelY;return{style:{zIndex:panelY?2:0,background:"hsla(0,0%,0%, ".concat(panelY/4,")")}}}))(_templateObject3(),(function(_ref4){return _ref4.breakpoint})),PanelDiv=styled_components__WEBPACK_IMPORTED_MODULE_4__.a.div.attrs((function(_ref5){var margin=_ref5.margin,panelY=_ref5.panelY;return{style:{cursor:panelY?"auto":"pointer",width:"calc(100% - ".concat((1-panelY)*margin,"px)")}}}))(_templateObject4(),(function(_ref6){return _ref6.margin}),(function(_ref7){return _ref7.minHeight}),(function(_ref8){return _ref8.minHeight}),(function(_ref9){return _ref9.breakpoint}),(function(_ref10){return _ref10.margin})),Layout=react__WEBPACK_IMPORTED_MODULE_3___default.a.memo((function(_ref11){var children=_ref11.children,onScroll=_ref11.onScroll,isOpen=_ref11.isOpen,_ref11$snapback=_ref11.snapback,snapback=void 0===_ref11$snapback?48:_ref11$snapback,_ref11$minHeight=_ref11.minHeight,minHeight=void 0===_ref11$minHeight?128:_ref11$minHeight,_ref11$breakpoint=_ref11.breakpoint,breakpoint=void 0===_ref11$breakpoint?1024:_ref11$breakpoint,_ref11$margin=_ref11.margin,margin=void 0===_ref11$margin?16:_ref11$margin,_ref11$panel=_ref11.panel,panel=void 0===_ref11$panel?PanelDiv:_ref11$panel,_ref11$container=_ref11.container,container=void 0===_ref11$container?PanelContainerDiv:_ref11$container,_ref11$background=_ref11.background,background=void 0===_ref11$background?BackgroundDiv:_ref11$background,_React$useState=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState({isOpen:!1,panelY:0}),_React$useState2=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1],containerRef=react__WEBPACK_IMPORTED_MODULE_3___default.a.useRef(null),panelRef=react__WEBPACK_IMPORTED_MODULE_3___default.a.useRef(null),closePanel=function closePanel(){panelRef.current&&panelRef.current.scrollTo({top:0,behavior:"smooth"}),containerRef.current&&containerRef.current.scrollTo({top:0,behavior:"smooth"})},openPanel=function openPanel(){containerRef.current&&panelRef.current&&containerRef.current.scrollTo({top:containerRef.current.offsetHeight,behavior:"smooth"})};react__WEBPACK_IMPORTED_MODULE_3___default.a.useEffect((function(){void 0!==isOpen&&(isOpen?openPanel:closePanel)()}),[isOpen,containerRef.current]);var Panel=panel,Container=container,Background=background;return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Container,{ref:containerRef,onScroll:function onScrollPanel(e){var panelY=e.currentTarget.scrollTop/(e.currentTarget.scrollHeight-e.currentTarget.offsetHeight);!function setProps(props){setState(Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{},props))}({isOpen:1===panelY||0!==panelY&&state.isOpen,panelY:panelY}),onScroll&&onScroll(panelY)},onTouchEnd:function snapScroll(){if(containerRef.current&&(state.isOpen&&state.panelY<1||!state.isOpen&&state.panelY>0)){var offset=state.isOpen?containerRef.current.scrollTop:containerRef.current.scrollHeight-containerRef.current.scrollTop;return Math.abs(offset)>snapback?openPanel():closePanel()}}},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Background,{onClick:closePanel,panelY:state.panelY,breakpoint:breakpoint}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Panel,{ref:panelRef,minHeight:minHeight,margin:margin,breakpoint:breakpoint,onClick:state.panelY?function(){return null}:openPanel,panelY:state.panelY},children))}));__webpack_exports__.d=Layout},740:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(132);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(986)],module)}.call(this,__webpack_require__(293)(module))},986:function(module,exports,__webpack_require__){var map={"./stories.tsx":987};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=986},987:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96),_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(132),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(56);function _templateObject3(){var data=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)([""]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n  background: purple;\n  border-radius: 30px 30px 0 0;\n  text-align: center;\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n  width: 100%;\n  height: 100%;\n  pointer-events: all;\n  position: absolute;\n  background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);\n"]);return _templateObject=function _templateObject(){return data},data}var MockMapDiv=styled_components__WEBPACK_IMPORTED_MODULE_4__.a.div(_templateObject()),stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Over-Map Layout",module);stories.add("inner scroll",(function(){var _React$useState=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(0),_React$useState2=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState,2),panelY=_React$useState2[0],setPanelY=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(null),_React$useState4=Object(_Users_bshope_src_over_map_layout_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState3,2),isOpen=_React$useState4[0],setIsOpen=_React$useState4[1];return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{position:"relative",width:"100%",height:"70vh"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_5__.d,{breakpoint:1024,onScroll:function onScroll(newPanelY){setPanelY(newPanelY),1===newPanelY&&setIsOpen(!0),0===newPanelY&&setIsOpen(!1)},isOpen:isOpen},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{flex:0,padding:"1rem",background:"#f2f2f2"}},"Header Content"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_5__.b,{breakpoint:1024,panelY:panelY},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{height:"200vh",padding:"1rem"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"Components can listen on panelY: ".concat(panelY.toFixed(2))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"The panel can also be opened or closed",0===panelY||1===panelY?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:function onClick(){return setIsOpen(!isOpen)}},isOpen?"Close":"Open"," Panel"):null)))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(MockMapDiv,null))}));var StyledPanelDiv=Object(styled_components__WEBPACK_IMPORTED_MODULE_4__.a)(_index__WEBPACK_IMPORTED_MODULE_5__.c)(_templateObject2()),StyledBackgroundDiv=Object(styled_components__WEBPACK_IMPORTED_MODULE_4__.a)(_index__WEBPACK_IMPORTED_MODULE_5__.a).attrs((function(_ref){var panelY=_ref.panelY;return{style:{zIndex:panelY?2:0,background:"hsla(".concat(150*panelY,", 50%, 50%, ").concat(panelY,")")}}}))(_templateObject3());stories.add("styled",(function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{position:"relative",width:"100%",height:"70vh"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_5__.d,{panel:StyledPanelDiv,background:StyledBackgroundDiv},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{minHeight:"200vh"}},"Panel With Fancy Styles")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(MockMapDiv,null))})),stories.add("short scroll",(function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{position:"relative",width:"100%",height:"70vh"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_5__.d,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{height:"50vh"}},"Panel Content")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(MockMapDiv,null))})),stories.add("no scroll",(function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{position:"relative",width:"100%",height:"70vh"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_5__.d,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{flex:1}},"Panel Content")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(MockMapDiv,null))}))}.call(this,__webpack_require__(293)(module))}},[[357,1,2]]]);
//# sourceMappingURL=main.3c6544cd236675be18c2.bundle.js.map